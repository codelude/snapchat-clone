(this["webpackJsonpsnapchat-clone-yt"]=this["webpackJsonpsnapchat-clone-yt"]||[]).push([[0],{81:function(e,t,c){},82:function(e,t,c){},86:function(e,t,c){},89:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){"use strict";c.r(t);var a=c(4),n=c(2),s=c.n(n),i=c(29),r=c.n(i),o=(c(81),c(82),c(54)),l=c.n(o),j=c(45),u=c.n(j),d=c(12),h=c(35),m=Object(h.b)({name:"camera",initialState:{cameraImage:null},reducers:{setCameraImage:function(e,t){e.cameraImage=t.payload},resetCameraImage:function(e){e.cameraImage=null}}}),b=m.actions,p=b.setCameraImage,O=b.resetCameraImage,f=function(e){return e.camera.cameraImage},g=m.reducer,x=c(10),v=(c(86),{width:250,height:400,facingMode:"user"});var _=function(){var e=Object(n.useRef)(null),t=Object(d.b)(),c=Object(x.f)(),s=Object(n.useCallback)((function(){var a=e.current.getScreenshot();t(p(a)),c.push("/preview")}),[e]);return Object(a.jsxs)("div",{className:"webcamCapture",children:[Object(a.jsx)(l.a,{audio:!1,height:v.height,ref:e,screenshotFormat:"image/jpeg",width:v.width,videoConstraints:v}),Object(a.jsx)(u.a,{className:"webcamCapture__button",onClick:s,fontSize:"large"})]})},w=(c(89),c(59)),N=c.n(w),I=c(60),C=c.n(I),k=c(61),y=c.n(k),S=c(62),P=c.n(S),U=c(63),B=c.n(U),z=c(64),A=c.n(z),D=c(65),E=c.n(D),F=c(66),R=c.n(F),T=c(67),K=c.n(T),V=c(115),W=c(33),L=W.a.initializeApp({apiKey:"AIzaSyBMh_GSaKV1K4sKwck8NP5m_dUwiwlDDiA",authDomain:"snapchat-clone-yt.firebaseapp.com",projectId:"snapchat-clone-yt",storageBucket:"snapchat-clone-yt.appspot.com",messagingSenderId:"1032610135706",appId:"1:1032610135706:web:196625215f3eca5b8c6923"}).firestore(),M=W.a.auth(),G=W.a.storage(),J=new W.a.auth.GoogleAuthProvider,$=Object(h.b)({name:"app",initialState:{user:null,selectedImage:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null},selectImage:function(e,t){e.selectedImage=t.payload},resetImage:function(e){e.selectedImage=null}}}),q=$.actions,H=q.login,Q=q.logout,X=q.selectImage,Y=(q.resetImage,function(e){return e.app.user}),Z=function(e){return e.app.selectedImage},ee=$.reducer;var te=function(){var e=Object(d.c)(f),t=Object(x.f)(),c=Object(d.b)(),s=Object(d.c)(Y);return Object(n.useEffect)((function(){e||t.replace("/")}),[e,t]),Object(a.jsxs)("div",{className:"preview",children:[Object(a.jsx)(N.a,{onClick:function(){c(O())},className:"preview__close"}),Object(a.jsxs)("div",{className:"preview__toolbarRight",children:[Object(a.jsx)(C.a,{}),Object(a.jsx)(y.a,{}),Object(a.jsx)(P.a,{}),Object(a.jsx)(B.a,{}),Object(a.jsx)(A.a,{}),Object(a.jsx)(E.a,{}),Object(a.jsx)(R.a,{})]}),Object(a.jsx)("img",{src:e,alt:""}),Object(a.jsxs)("div",{onClick:function(){var c=Object(V.a)();G.ref("posts/".concat(c)).putString(e,"data_url").on("state_changed",null,(function(e){console.log(e)}),(function(){G.ref("posts").child(c).getDownloadURL().then((function(e){L.collection("posts").add({imageUrl:e,username:s.username,read:!1,profilePic:s.profilePic,timestamp:W.a.firestore.FieldValue.serverTimestamp()}),t.replace("/chats")}))}))},className:"preview__footer",children:[Object(a.jsx)("h2",{children:"Send Now"}),Object(a.jsx)(K.a,{fontSize:"small",className:"preview__sendIcon"})]})]})},ce=c(31),ae=c(73),ne=c(116),se=(c(92),c(70)),ie=c.n(se),re=c(71),oe=c.n(re),le=(c(93),c(69)),je=c.n(le),ue=c(68),de=c.n(ue);var he=function(e){var t=e.id,c=e.username,n=e.timestamp,s=e.read,i=e.imageUrl,r=e.profilePic,o=Object(d.b)(),l=Object(x.f)();return Object(a.jsxs)("div",{onClick:function(){s||(o(X(i)),L.collection("posts").doc(t).set({read:!0},{merge:!0}),l.push("/chats/view"))},className:"chat",children:[Object(a.jsx)(ne.a,{className:"chat__avatar",src:r}),Object(a.jsxs)("div",{className:"chat__info",children:[Object(a.jsx)("h4",{children:c}),Object(a.jsxs)("p",{children:[!s&&"Tap to view -"," ",Object(a.jsx)(de.a,{date:new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString()})]})]}),!s&&Object(a.jsx)(je.a,{className:"chat__readIcon"})]})};var me=function(){var e=Object(n.useState)([]),t=Object(ae.a)(e,2),c=t[0],s=t[1],i=Object(d.c)(Y),r=Object(d.b)(),o=Object(x.f)();return Object(n.useEffect)((function(){L.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),Object(a.jsxs)("div",{className:"chats",children:[Object(a.jsxs)("div",{className:"chats__header",children:[Object(a.jsx)(ne.a,{src:i.profilePic,onClick:function(){return M.signOut()},className:"chats__avatar"}),Object(a.jsxs)("div",{className:"chats__search",children:[Object(a.jsx)(ie.a,{className:"chats__searchIcon"}),Object(a.jsx)("input",{placeholder:"Friends",type:"text"})]}),Object(a.jsx)(oe.a,{className:"chats__chatIcon"})]}),Object(a.jsx)("div",{className:"chats__posts",children:c.map((function(e){var t=e.id,c=e.data,n=c.profilePic,s=c.username,i=c.timestamp,r=c.imageUrl,o=c.read;return Object(a.jsx)(he,{id:t,username:s,timestamp:i,imageUrl:r,read:o,profilePic:n},t)}))}),Object(a.jsx)(u.a,{className:"chats__takePicIcon",onClick:function(){r(O()),o.push("/")},fontSize:"large"})]})},be=(c(96),c(72));var pe=function(){var e=Object(d.c)(Z),t=Object(x.f)();Object(n.useEffect)((function(){e||c()}),[e]);var c=function(){t.replace("/chats")};return Object(a.jsxs)("div",{className:"chatView",children:[Object(a.jsx)("img",{src:e,onClick:c,alt:""}),Object(a.jsx)("div",{className:"chatView__timer",children:Object(a.jsx)(be.CountdownCircleTimer,{isPlaying:!0,duration:10,strokeWidth:6,size:50,colors:[["#004777",.33],["#F7B801",.33],["#A30000",.33]],children:function(e){var t=e.remainingTime;return 0===t&&c(),t}})})]})},Oe=c(114);c(97);var fe=function(){var e=Object(d.b)();return Object(a.jsx)("div",{className:"login",children:Object(a.jsxs)("div",{className:"login__container",children:[Object(a.jsx)("img",{src:"https://scx2.b-cdn.net/gfx/news/2017/1-snapchat.jpg",alt:""}),Object(a.jsx)(Oe.a,{variant:"outlined",onClick:function(){M.signInWithPopup(J).then((function(t){e(H({username:t.user.displayName,profilePic:t.user.photoURL,id:t.user.uid}))})).catch((function(e){return alert(e.message)}))},children:"Sign in"})]})})};var ge=function(){var e=Object(d.c)(Y),t=Object(d.b)();return Object(n.useEffect)((function(){M.onAuthStateChanged((function(e){t(e?H({username:e.displayName,profilePic:e.photoURL,id:e.uid}):Q())}))}),[]),Object(a.jsx)("div",{className:"app",children:Object(a.jsx)(ce.a,{children:e?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{className:"app__logo",src:"https://lakeridgenewsonline.com/wp-content/uploads/2020/04/snapchat.jpg",alt:""}),Object(a.jsx)("div",{className:"app__body",children:Object(a.jsx)("div",{className:"app__bodyBackground",children:Object(a.jsxs)(x.c,{children:[Object(a.jsx)(x.a,{path:"/chats/view",children:Object(a.jsx)(pe,{})}),Object(a.jsx)(x.a,{path:"/chats",children:Object(a.jsx)(me,{})}),Object(a.jsx)(x.a,{path:"/preview",children:Object(a.jsx)(te,{})}),Object(a.jsx)(x.a,{exact:!0,path:"/",children:Object(a.jsx)(_,{})})]})})})]}):Object(a.jsx)(fe,{})})})},xe=Object(h.a)({reducer:{app:ee,camera:g}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(d.a,{store:xe,children:Object(a.jsx)(ge,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[98,1,2]]]);
//# sourceMappingURL=main.7266968c.chunk.js.map